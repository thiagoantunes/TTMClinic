function MainController(e,i,t,n,o,a){function l(){g.clinics.$loaded(function(e){0==e.length&&(g.emptyList=!0)}),g.newClinicValidationOptions={rules:{name:{required:!0},password:{required:!0,minlength:6},login:{required:!0},bgcolor:{required:!0,hexcolor:!0},fontcolor:{required:!0,hexcolor:!0}},messages:{name:{required:"Informe o nome da clínica"},password:{required:"Informe a senha",minlength:"A senha deve ter pelo menos 6 caracteres"},login:{required:"Informe o login"},bgcolor:{required:"Informe a cor de fundo"},fontcolor:{required:"Informe a cor da fonte"}}}}function s(){firebase.auth().signOut()}function c(e){e&&(g.selectedClinic=angular.copy(e)),g.newClinicModal=o.open({templateUrl:"app/main/new-clinic.html",scope:i})}function r(){g.imagesModal=o.open({templateUrl:"select-logo-modal.html",appendTo:angular.element("#new-clinic-form"),scope:i})}function d(){g.newClinicModal.dismiss()}function m(e){if(e.validate()){if(g.selectedClinic.$id){var i=_.find(g.clinics,{$id:g.selectedClinic.$id});i.name=g.selectedClinic.name,i.slogan=g.selectedClinic.slogan,i.description=g.selectedClinic.description,i.logo=g.selectedClinic.logo?g.selectedClinic.logo:null,i.crm=g.selectedClinic.crm,i.login=g.selectedClinic.login,i.password=g.selectedClinic.password,i.bgcolor=g.selectedClinic.bgcolor,i.fontcolor=g.selectedClinic.fontcolor,g.clinics.$save(i).then(function(){t.pop("success","Clínica editada com sucesso!"),d()},function(e){t.pop("error","Ops!!",e.message)})}else firebase.auth().createUserWithEmailAndPassword(g.selectedClinic.login,g.selectedClinic.password).then(function(e){g.clinics.$ref().child(e.uid).set(g.selectedClinic).then(function(){t.pop("success","Clínica criada com sucesso!"),d()},function(e){t.pop("error","Ops!!",e.message)})})["catch"](function(e){"auth/email-already-in-use"==e.code?t.pop("error","Ops!!","Este e-mail já está sendo usado por outra clínica"):t.pop("error","Ops!!",e.message)});g.newFile&&u()}}function p(e){a.swal({title:"Você tem certeza?",text:"Esta operação não tem volta",type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"Sim!",cancelButtonText:"Cancelar",closeOnConfirm:!0},function(i){if(i){var n=_.find(g.clinics,{$id:e});g.clinics.$remove(n).then(function(){g.selectedItem=null,t.pop("success","Item excluído com sucesso!")},function(e){t.pop("error","Ops!!",e.message)})}})}function u(){var i=g.newFile,t={contentType:"image/jpeg"},n=firebase.storage().ref(),o=n.child("images/"+i.name).put(i,t);o.on(firebase.storage.TaskEvent.STATE_CHANGED,function(i){var t=i.bytesTransferred/i.totalBytes*100;switch(e.debug("Upload is "+t+"% done"),i.state){case firebase.storage.TaskState.PAUSED:e.debug("Upload is paused");break;case firebase.storage.TaskState.RUNNING:e.debug("Upload is running")}},function(i){e.debug(i)},function(){var i=o.snapshot.downloadURL;e.debug(i)})}var g=this;g.clinics=n.clinics,g.selectedClinic={},g.newClinicModal={},g.emptyList=!1,g.logOut=s,g.openNewClinicModal=c,g.closeNewClinicModal=d,g.insertOrUpdate=m,g.openSelectLogoModal=r,g.removeClinic=p,l()}function LoginController(e,i,t,n,o){function a(){}function l(){firebase.auth().signInWithEmailAndPassword(s.email,s.password).then(function(){t.debug("You are logged in"),i.go("index.main")},function(e){o.$apply(function(){n.pop("error","Ops!!",e.message)})})}var s=this;s.login=l,a()}function ForgotPasswordController(e,i,t,n){function o(){firebase.auth().sendPasswordResetEmail(a.email).then(function(){n.$apply(function(){t.success({body:"Senha enviada para "+a.email})}),i.go("login")},function(e){n.$apply(function(){t.pop("error","Ops!!",e.message)})})}var a=this;a.forgotPassword=o}function CategoriesController(e,i,t,n,o,a,l,s,c){function r(){$.clinics.$loaded(function(){$.clinic=_.find($.clinics,{$id:$.clinicId})}),s.getCategories(o.id).$loaded(function(e){$.categories=e}),s.getBanners(o.id).$loaded(function(e){$.banners=e}),$.newCategoryValidationOptions={rules:{name:{required:!0}},messages:{name:{required:"Informe o nome da categoria"}}},$.newBannerValidationOptions={rules:{name:{required:!0}},messages:{name:{required:"Informe o nome do banner"}}},$.editorConfig={btns:[["undo"],["formatting"],"btnGrp-semantic",["superscript","subscript"],["link"],"btnGrp-justify","btnGrp-lists",["horizontalRule"],["removeformat"]]}}function d(e){var i=firebase.database().ref().child("categories/"+$.clinicId+"/"+e.$id+"/items").push({title:"Novo Item "+(_.size(e.items)+1),cover:{src:"https://placeholdit.imgix.net/~text?txtsize=84&txt=900%C3%97400&w=900&h=400",type:"image"}}).key;s.getItem($.clinicId,e.$id,i).$loaded(function(e){$.selectedItem=e})}function m(e,i){s.getItem($.clinicId,e.$id,i).$loaded(function(e){$.selectedItem=e})}function p(e,i){c.swal({title:"Você tem certeza?",text:"Esta operação não tem volta",type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"Sim!",cancelButtonText:"Cancelar",closeOnConfirm:!0},function(t){if(t){var n=s.getItem($.clinicId,e.$id,i);n.$remove().then(function(){$.selectedItem=null,l.pop("success","Item excluído com sucesso!")},function(e){l.pop("error","Ops!!",e.message)})}})}function u(){$.selectedItem.$save().then(function(){l.pop("success","Item salvo com sucesso!")},function(e){l.pop("error","Ops!!",e.message)})}function g(e){e.validate()&&$.categories.$add({name:$.newCategoryName}).then(function(){l.pop("success","Categoria criada com sucesso!"),$.newCategoryName=null},function(e){l.pop("error","Ops!!",e.message)})}function v(e,i){i&&(i.preventDefault(),i.stopPropagation()),c.swal({title:"Você tem certeza?",text:"Esta operação não tem volta",type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"Sim!",cancelButtonText:"Cancelar",closeOnConfirm:!0},function(i){i&&$.categories.$remove(e).then(function(){$.selectedItem=null,l.pop("success","Item excluído com sucesso!")},function(e){l.pop("error","Ops!!",e.message)})})}function f(e){e.validate()&&$.banners.$add({name:$.newBannerName}).then(function(){l.pop("success","Banner criado com sucesso!"),$.newBannerName=null},function(e){l.pop("error","Ops!!",e.message)})}function b(){$.banners.$save($.selectedBanner).then(function(){l.pop("success","Banner alterado com sucesso!"),$.selectedBanner=null,$.bannerModal.dismiss()},function(e){l.pop("error","Ops!!",e.message)})}function h(e,i){i&&(i.preventDefault(),i.stopPropagation()),c.swal({title:"Você tem certeza?",text:"Esta operação não tem volta",type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"Sim!",cancelButtonText:"Cancelar",closeOnConfirm:!0},function(i){i&&$.banners.$remove(e).then(function(){$.selectedItem=null,l.pop("success","Item excluído com sucesso!")},function(e){l.pop("error","Ops!!",e.message)})})}function y(){$.imagesModal=a.open({templateUrl:"select-images-modal.html",scope:i,size:"lg"})}function w(){$.coverImageModal=a.open({templateUrl:"select-cover-image-modal.html",scope:i})}function x(){$.coverVideoModal=a.open({templateUrl:"select-cover-video-modal.html",scope:i,size:"lg"})}function C(e){$.selectedBanner=e,$.bannerModal=a.open({templateUrl:"select-banner-modal.html",scope:i,size:"lg"})}function I(e){return n.trustAsResourceUrl(e)}var $=this;$.clinicId=o.id,$.clinics=s.clinics,$.album=[],$.selectedItem=null,$.createItem=d,$.removeItem=p,$.selectItem=m,$.saveItem=u,$.createCategory=g,$.removeCategory=v,$.createBanner=f,$.removeBanner=h,$.saveBanner=b,$.trustSrc=I,$.openSelectImagesModal=y,$.openSelectImageCoverModal=w,$.openSelectVideoCoverModal=x,$.openSelectBannerModal=C,r()}MainController.$inject=["$log","$scope","toaster","MainService","$uibModal","SweetAlert"],LoginController.$inject=["UserService","$state","$log","toaster","$scope"],ForgotPasswordController.$inject=["$log","$state","toaster","$scope"],CategoriesController.$inject=["$log","$scope","$timeout","$sce","$stateParams","$uibModal","toaster","MainService","SweetAlert"],function(){"use strict";angular.module("ttmclinic",["ngAnimate","ngCookies","ngTouch","ngSanitize","ngMessages","ngAria","ngResource","ui.router","ui.bootstrap","firebase","toaster","colorpicker.module","ngValidate","ngFileUpload","ui.tree","trumbowyg-ng","ui.utils.masks","oitozero.ngSweetAlert","uiCropper"])}(),function(){"use strict";function e(){return{templateUrl:"app/components/common/directives/file-select/file-select.html",restrict:"E",scope:{selection:"=",multi:"=",type:"="},controller:["$scope","StorageService","toaster","SweetAlert",function(e,i,t,n){function o(){null!=e.type&&"video"==e.type?(void 0==e.selection&&(e.selection={}),e.videos=i.videos,e.videos.$loaded(function(i){_.forEach(i,function(i){i.$value==e.selection.src&&(i.checked=!0)})})):(e.images=i.images,e.images.$loaded(function(i){e.multi?_.forEach(i,function(i){var t=_.some(e.selection,function(e){return e.src==i.$value});t&&(i.checked=!0)}):_.forEach(i,function(i){i.$value==e.selection.src&&(i.checked=!0)})}))}o(),e.uploadFiles=function(i){var t=0;if("video"==e.type)for(t=0;t<i.length;t++)e.uploadVideoAsPromise(i[t]);else for(t=0;t<i.length;t++)e.uploadImageAsPromise(i[t])},e.uploadImageAsPromise=function(n){return new Promise(function(){var o=firebase.storage().ref("images/"+n.name+(new Date).getTime()),a=o.put(n);a.on(firebase.storage.TaskEvent.STATE_CHANGED,function(i){e.$apply(function(){e.progress=i.bytesTransferred/i.totalBytes*100})},function(e){t.pop("error","Ops!!",e.message)},function(){i.images.$add(a.snapshot.downloadURL),e.cancelCrop()})})},e.uploadVideoAsPromise=function(n){return new Promise(function(){var o=firebase.storage().ref("videos/"+n.name+(new Date).getTime()),a=o.put(n);a.on(firebase.storage.TaskEvent.STATE_CHANGED,function(i){e.$apply(function(){e.progress=i.bytesTransferred/i.totalBytes*100})},function(e){t.pop("error","Ops!!",e.message)},function(){i.videos.$add(a.snapshot.downloadURL)})})},e.selectImageToCrop=function(i){e.selectedImage=i.$value,e.croppedImage=""},e.cancelCrop=function(){e.selectedImage=null},e.addFile=function(i){"video"==e.type?(_.forEach(e.videos,function(e){e.checked=!1}),e.selection||(e.selection={}),e.selection.src=i.$value,_.forEach(e.videos,function(i){i.$value==e.selection.src&&(i.checked=!0)})):e.multi?(void 0==e.selection&&(e.selection={}),i.checked?e.selection[i.$id]={src:i.$value}:delete e.selection[i.$id]):(_.forEach(e.images,function(e){e.checked=!1}),e.selection||(e.selection={}),e.selection.src=i.$value,_.forEach(e.images,function(i){i.$value==e.selection.src&&(i.checked=!0)}))},e.deleteImage=function(i){n.swal({title:"Você tem certeza?",text:"Esta operação não tem volta",type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"Sim!",cancelButtonText:"Cancelar",closeOnConfirm:!0},function(n){n&&e.images.$remove(i).then(function(){t.pop("success","Item excluído com sucesso!")},function(e){t.pop("error","Ops!!",e.message)})})}}]}}angular.module("ttmclinic").directive("fileSelect",e)}(),function(){"use strict";function e(){return{templateUrl:"app/components/common/directives/file-crop/file-crop.html",restrict:"E",scope:{image:"="},controller:["$scope","StorageService","toaster",function(e,i,t){function n(){e.croppedImage=""}n(),e.uploadFiles=function(i){var t=0;if("video"==e.type)for(t=0;t<i.length;t++)e.uploadVideoAsPromise(i[t]);else for(t=0;t<i.length;t++)e.uploadImageAsPromise(i[t])},e.uploadImageAsPromise=function(n){return new Promise(function(){var o=firebase.storage().ref("images/"+n.name),a=o.put(n);a.on(firebase.storage.TaskEvent.STATE_CHANGED,function(i){e.$apply(function(){e.progress=i.bytesTransferred/i.totalBytes*100})},function(e){t.pop("error","Ops!!",e.message)},function(){i.images.$add(a.snapshot.downloadURL)})})},e.addFile=function(i){"video"==e.type?(_.forEach(e.videos,function(e){e.checked=!1}),e.selection||(e.selection={}),e.selection.src=i.$value,_.forEach(e.videos,function(i){i.$value==e.selection.src&&(i.checked=!0)})):e.multi?(void 0==e.selection&&(e.selection={}),i.checked?e.selection[i.$id]={src:i.$value}:delete e.selection[i.$id]):(_.forEach(e.images,function(e){e.checked=!1}),e.selection||(e.selection={}),e.selection.src=i.$value,_.forEach(e.images,function(i){i.$value==e.selection.src&&(i.checked=!0)}))}}]}}angular.module("ttmclinic").directive("fileCrop",e)}(),function(){"use strict";function e(){var e={currentUser:null};return e}angular.module("ttmclinic").factory("UserService",e),e.$inject=[]}(),function(){"use strict";function e(e){var i={images:e(firebase.database().ref().child("storage/images")),videos:e(firebase.database().ref().child("storage/videos"))};return i}angular.module("ttmclinic").factory("StorageService",e),e.$inject=["$firebaseArray"]}(),function(){"use strict";function e(e,i){function t(e){return i(firebase.database().ref().child("categories").child(e))}function n(e){return i(firebase.database().ref().child("banners").child(e))}function o(i,t,n){return e(firebase.database().ref().child("categories/"+i+"/"+t+"/items/"+n))}var a={clinics:i(firebase.database().ref().child("clinics")),getCategories:t,getBanners:n,getItem:o};return a}angular.module("ttmclinic").factory("MainService",e),e.$inject=["$firebaseObject","$firebaseArray"]}(),angular.module("ttmclinic").controller("MainController",MainController),MainController.$inhect=["$log","$scope","toaster","MainService","$uibModal","SweetAlert"],angular.module("ttmclinic").controller("LoginController",LoginController),LoginController.$inhect=["UserService","$state","Ref","toaster","$scope"],angular.module("ttmclinic").controller("ForgotPasswordController",ForgotPasswordController),ForgotPasswordController.$inhect=["$log","$state","toaster","$scope"],angular.module("ttmclinic").controller("CategoriesController",CategoriesController),CategoriesController.$inhect=["$log","$scope","$timeout","$sce","$stateParams","$uibModal","toaster","MainService","SweetAler"],angular.element(document).ready(function(e){function i(){var e=angular.element("body > #wrapper").height()-61;angular.element(".sidebard-panel").css("min-height",e+"px");var i=angular.element("nav.navbar-default").height(),t=angular.element("#page-wrapper").height();i>t&&angular.element("#page-wrapper").css("min-height",i+"px"),t>i&&angular.element("#page-wrapper").css("min-height",angular.element(window).height()+"px"),angular.element("body").hasClass("fixed-nav")&&(i>t?angular.element("#page-wrapper").css("min-height",i-60+"px"):angular.element("#page-wrapper").css("min-height",angular.element(window).height()-60+"px"))}angular.element(window).bind("load resize scroll",function(){angular.element("body").hasClass("body-small")||i()}),angular.element(window).scroll(function(){angular.element(window).scrollTop()>0&&!angular.element("body").hasClass("fixed-nav")?angular.element("#right-sidebar").addClass("sidebar-top"):angular.element("#right-sidebar").removeClass("sidebar-top")}),e(function(){i()}),angular.element(window).bind("load resize",function(){angular.element(document).width()<769?angular.element("body").addClass("body-small"):angular.element("body").removeClass("body-small")})}),function(){"use strict";function e(e,i,t){firebase.auth().onAuthStateChanged(function(e){e||(t.currentUser=e,i.go("login"))}),e.debug("runBlock end")}function i(){return firebase.database().ref()}function t(e){e.addMethod("hexcolor",function(e,i){return this.optional(i)||/^^#(?:[0-9a-fA-F]{3}){1,2}$/.test(e)},"Informe uma cor válida. (ex: #FFFF)"),e.addMethod("nospace",function(e,i){return this.optional(i)||/^[a-z]*$/.test(e)},"O login não pode ter espaços, números ou caracteres especiais")}e.$inject=["$log","$state","UserService"],t.$inject=["$validatorProvider"];var n={apiKey:"AIzaSyARcPaIYaQGAvVz317-i0wTjaoiXb4ZEp4",authDomain:"ttmclinic-d86fa.firebaseapp.com",databaseURL:"https://ttmclinic-d86fa.firebaseio.com",storageBucket:"ttmclinic-d86fa.appspot.com"};firebase.initializeApp(n),angular.module("ttmclinic").factory("Ref",i).config(t).run(e)}(),function(){"use strict";function e(e,i){e.state("login",{url:"/login",templateUrl:"app/login/login.html",controller:"LoginController as vm",data:{pageTitle:"Login",specialClass:"gray-bg"}}).state("forgot_password",{url:"/forgot_password",templateUrl:"app/login/forgot_password.html",controller:"ForgotPasswordController as vm",data:{pageTitle:"Forgot password",specialClass:"gray-bg"}}).state("index",{"abstract":!0,url:"/index",templateUrl:"app/components/common/content.html"}).state("index.main",{url:"/main",templateUrl:"app/main/main.html",data:{pageTitle:"Example view"}}).state("index.categories",{url:"/categories/:id",templateUrl:"app/categories/categories.html",controller:"CategoriesController as vm",data:{pageTitle:"Categorias"}}).state("index.minor",{url:"/minor",templateUrl:"app/minor/minor.html",data:{pageTitle:"Example view"}}),i.otherwise("/index/main")}e.$inject=["$stateProvider","$urlRouterProvider"],angular.module("ttmclinic").config(e)}(),angular.module("ttmclinic").directive("sideNavigation",["$timeout",function(e){return{restrict:"A",link:function(i,t){i.$watch("authentication.user",function(){e(function(){t.metisMenu()})})}}}]).directive("minimalizaSidebar",["$timeout",function(e){return{restrict:"A",template:'<a class="navbar-minimalize minimalize-styl-2 btn btn-primary " href="" ng-click="minimalize()"><i class="fa fa-bars"></i></a>',controller:["$scope",function(i){i.minimalize=function(){angular.element("body").toggleClass("mini-navbar"),!angular.element("body").hasClass("mini-navbar")||angular.element("body").hasClass("body-small")?(angular.element("#side-menu").hide(),e(function(){angular.element("#side-menu").fadeIn(400)},200)):angular.element("#side-menu").removeAttr("style")}}]}}]),angular.module("ttmclinic").run(["$templateCache",function(e){e.put("app/categories/categories.html",'<div class="wrapper wrapper-content animated fadeInRight"><h2>{{vm.clinic.name}}</h2><hr><div class="row"><div class="col-md-5"><div class="ibox"><div class="ibox-title"><h5>Categorias</h5></div><div class="ibox-content"><form role="form" name="newCategoryForm" class="form-inline" ng-submit="vm.createCategory(newCategoryForm);" ng-validate="vm.newCategoryValidationOptions"><div class="form-group"><label for="categoryName" class="sr-only">Nova Categoria</label> <input type="text" placeholder="Nova Categoria" ng-model="vm.newCategoryName" id="" "categoryname"="" name="name" class="form-control"></div><button class="btn btn-white" type="submit">Salvar</button></form><hr><uib-accordion close-others="false"><div ng-repeat="cat in vm.categories" style="max-height: 350px; overflow: auto;" uib-accordion-group="" class="panel-default"><uib-accordion-heading>{{cat.name}} <i class="pull-right fa fa-trash fa-lg" ng-click="vm.removeCategory(cat, $event);"></i></uib-accordion-heading><div class="row"><div class="col-md-12"><button type="button" ng-click="vm.createItem(cat)" class="btn btn-primary btn-xs">Novo Item</button></div></div><br><br><br><div ng-repeat="($id, item) in cat.items"><div class="row"><div class="col-md-9" ng-click="vm.selectItem(cat, $id)" style="font-size: 1.2em;">{{item.title}}<br><span style="color:#ccc; font-size:0.8em">{{item.subTitle}}</span></div><div class="col-md-3"><i class="pull-right fa fa-trash fa-lg" ng-click="vm.removeItem(cat, $id);"></i></div></div><hr></div></div></uib-accordion></div></div><div class="ibox"><div class="ibox-title"><h5>Banners</h5></div><div class="ibox-content"><form role="form" name="newBannerForm" class="form-inline" ng-submit="vm.createBanner(newBannerForm);" ng-validate="vm.newBannerValidationOptions"><div class="form-group"><label for="bannerName" class="sr-only">Novo Banner</label> <input type="text" placeholder="Novo Banner" ng-model="vm.newBannerName" id="" "bannername"="" name="name" class="form-control"></div><button class="btn btn-white" type="submit">Salvar</button></form><hr><uib-accordion close-others="false"><div ng-repeat="banner in vm.banners" uib-accordion-group="" class="panel-default"><uib-accordion-heading>{{banner.name}} <i class="pull-right fa fa-trash fa-lg" ng-click="vm.removeBanner(banner, $event);"></i></uib-accordion-heading><p ng-if="!banner.src">Selecione o banner:</p><p class="text-center"><div class="dropzon text-center" ng-click="vm.openSelectBannerModal(banner)" ng-if="!banner.src"><a href=""><i class="fa fa-cloud-upload big-icon"></i></a></div><div style="padding:20px 0px" ng-if="banner.src" class="m-b-sm text-center"><button type="button" style="margin-bottom:30px" class="btn btn-white btn-sm" ng-click="vm.openSelectBannerModal(banner)">Alterar imagem</button> <img alt="image" width="100%" src="{{banner.src}}"></div></p></div></uib-accordion></div></div></div><div class="col-md-7" ng-if="vm.selectedItem"><div class="ibox"><div class="ibox-content" style="padding:0px"><main class="md-container page"><div class="video cover"><video ng-if="vm.selectedItem.cover.type == \'video\'" height="240" controls=""><source src="{{vm.selectedItem.cover.src}}" type="video/mp4">Seu dispositivo não suporta a reprodução deste tipo de arquivo.</video><div ng-if="vm.selectedItem.cover.type == \'image\'" style="background-image:url(\'{{vm.selectedItem.cover.src}}\'); background-size: cover;" class="image-cover"></div><div class="cover-overlay"><div class="form-group" style="color:white"></div><button type="button" style="width: 200px" class="btn btn-white" ng-click="vm.openSelectImageCoverModal();">SELECIONAR IMAGEM</button><div class="form-group" style="width: 200px; padding-top: 20px; margin: 0 auto;"><h3 style="color: white ; text-align:left">Id do vídeo</h3><h6 style="color: white; text-align:left">Caso esta categoria possua um vídeo informe o seu ID do YouTube</h6><input type="text" ng-model="vm.selectedItem.cover.videoId" ng-blur="vm.saveItem();" id="" "categoryname"="" name="name" class="form-control"></div></div></div><div class="md-content"><header><div class="md-title-container"><div class="md-title"><div style="display:table-row"><h2 ng-if="!vm.editTitle" style="float:left; max-width:60%" class="dark">{{vm.selectedItem.title}}</h2><div ng-if="vm.editTitle" style="float:left; width:60%" class="form-group"><input type="text" name="price" ng-model="vm.selectedItem.title" class="form-control"></div><i ng-if="!vm.editTitle" ng-click="vm.editTitle = true" style="font-size:1.2em; padding: 5px 15px;" class="fa fa-pencil"></i> <i ng-if="vm.editTitle" ng-click="vm.saveItem(); vm.editTitle = false" style="font-size:1.2em; padding: 0px 15px;" class="fa fa-check"></i></div><br><div style="display:table-row"><span ng-if="!vm.editSubTitle && !vm.selectedItem.subTitle" ng-click="vm.editSubTitle = true" style="float:left; max-width:40%; cursor:pointer" class="label dark subheader">Subtitulo</span> <span ng-if="!vm.editSubTitle" style="float:left; max-width:40%" class="label dark">{{vm.selectedItem.subTitle}}</span><div ng-if="vm.editSubTitle" style="float:left; width:40%" class="form-group"><input type="text" name="price" ng-model="vm.selectedItem.subTitle" class="form-control"></div><i ng-if="!vm.editSubTitle" ng-click="vm.editSubTitle = true" style="font-size:1.2em; padding: 0px 15px;" class="fa fa-pencil"></i> <i ng-if="vm.editSubTitle" ng-click="vm.saveItem(); vm.editSubTitle = false" style="font-size:1.2em; padding: 0px 15px;" class="fa fa-check"></i></div></div><div class="md-price"><div style="display:table-row"><div ng-if="!vm.editPrice" style="float:left;"><span ng-if="!vm.selectedItem.price" ng-click="vm.editPrice = true" style="cursor:pointer" class="label dark subheader">Preço</span> <span ng-if="vm.selectedItem.priceTimes && vm.selectedItem.priceTimes > 1" class="label dark">{{vm.selectedItem.priceTimes}}x</span> <span ng-if="vm.selectedItem.price && vm.selectedItem.priceTimes && vm.selectedItem.priceTimes > 1" class="price dark">R${{ ( vm.selectedItem.price / vm.selectedItem.priceTimes )| currency:"":2 }}</span> <span ng-if="vm.selectedItem.price && !vm.selectedItem.priceTimes || vm.selectedItem.priceTimes == 1" class="price dark">R${{vm.selectedItem.price | currency:"":2}}</span></div><div ng-if="vm.editPrice" style="float:left;" class="form-group"><input type="text" name="price" ui-money-mask="" ng-model="vm.selectedItem.price" class="form-control"></div><i ng-if="!vm.editPrice" ng-click="vm.editPrice = true" style="font-size:1.2em; padding: 0px 15px;" class="fa fa-pencil"></i> <i ng-if="vm.editPrice" ng-click="vm.saveItem(); vm.editPrice = false" style="font-size:1.2em; padding: 0px 15px;" class="fa fa-check"></i></div></div></div></header><article><section class="info"><div style="display:table-row"><div style="float:left;"><span ng-click="vm.editDescription = true" style="cursor:pointer" class="label subheader dark">Descrição</span></div><i ng-if="!vm.editDescription" ng-click="vm.editDescription = true" style="font-size:1.2em; padding: 0px 15px;" class="fa fa-pencil"></i> <i ng-if="vm.editDescription" ng-click="vm.saveItem(); vm.editDescription = false" style="font-size:1.2em; padding: 0px 15px;" class="fa fa-check"></i></div><div ng-if="!vm.editDescription" ng-bind-html="vm.selectedItem.description"></div><div ng-if="vm.editDescription" style="float:left;" class="form-group"><div trumbowyg-ng="" ng-model="vm.selectedItem.description" editor-config="vm.editorConfig"></div></div></section><div style="display:table-row"><span class="label subheader dark" ng-click="vm.openSelectImagesModal();" style="padding-left: 96px; float:left ;cursor:pointer">Fotos</span> <i ng-click="vm.openSelectImagesModal();" style="font-size:1.2em; padding: 0px 15px;" class="fa fa-pencil"></i></div><section class="fotos"><ul style="width: calc(300px * 4); padding-right:28px;"><li ng-repeat="img in vm.selectedItem.images"><div class="picture"><img src="{{img.src}}"></div><div class="description"><h3 class="light">{{img.title}}</h3><span class="label light">{{img.subTitle}}</span></div></li></ul></section></article></div></main></div></div></div></div></div><script type="text/ng-template" id="select-images-modal.html"><div class="inmodal"> <div class="modal-header"> </div> <div class="modal-body"> <file-select selection="vm.selectedItem.images" multi="true" type="\'image\'"></file-select> </div> <div class="modal-footer"> <button type="button" class="btn btn-white" ng-click="vm.saveItem(); vm.imagesModal.dismiss();">Fechar</button> </div> </div></script><script type="text/ng-template" id="select-cover-image-modal.html"><div class="inmodal"> <div class="modal-header"> </div> <div class="modal-body"> <file-select selection="vm.selectedItem.cover" multi="false" type="\'image\'"></file-select> </div> <div class="modal-footer"> <button type="button" class="btn btn-white" ng-click="vm.saveItem(); vm.coverImageModal.dismiss();">Fechar</button> </div> </div></script><script type="text/ng-template" id="select-cover-video-modal.html"><div class="inmodal"> <div class="modal-header"> </div> <div class="modal-body"> <file-select selection="vm.selectedItem.images" multi="false" type="\'video\'"></file-select> </div> <div class="modal-footer"> <button type="button" class="btn btn-white" ng-click="vm.saveItem(); vm.coverVideoModal.dismiss();">Fechar</button> </div> </div></script><script type="text/ng-template" id="select-banner-modal.html"><div class="inmodal"> <div class="modal-header"> </div> <div class="modal-body"> <file-select selection="vm.selectedBanner" multi="false" type="\'image\'"></file-select> </div> <div class="modal-footer"> <button type="button" class="btn btn-white" ng-click="vm.saveBanner();">Fechar</button> </div> </div></script>'),e.put("app/categories/new-item.html",'<div id="new-item-modal" class="inmodal"><form role="form" name="newItemForm" ng-submit="vm.insertOrUpdate(newItemForm);" ng-validate="vm.newItemValidationOptions"><div class="modal-header"><h4 class="modal-title">Novo Item</h4></div><div class="modal-body"><div class="row"><div class="col-sm-7 b-r"><div class="form-group"><label>Título:</label> <input type="text" name="title" ng-model="vm.selectedItem.title" class="form-control"></div><div class="form-group"><label>Subtítulo:</label> <input type="text" name="subTitle" ng-model="vm.selectedItem.subTitle" class="form-control"></div><div class="form-group"><label>Preço:</label> <input type="text" name="price" ui-money-mask="" ng-model="vm.selectedItem.price" class="form-control"></div><div class="form-group"><label>Forma de pagamento:</label><select class="form-control m-b" ng-model="vm.selectedItem.priceTimes" name="account"><option value="1">1 X</option><option value="2">2 X</option><option value="3">3 X</option><option value="4">4 X</option><option value="5">5 X</option><option value="6">6 X</option><option value="7">7 X</option><option value="8">8 X</option><option value="9">9 X</option><option value="10">10 X</option><option value="11">11 X</option><option value="11">12 X</option></select></div><div class="form-group"><label>Descrição:</label><div trumbowyg-ng="" ng-model="vm.selectedItem.description" editor-config="vm.editorConfig"></div></div></div><div class="col-sm-5"><div class="form-group"><label>Tipo da capa:</label><div class="row"><div class="col-md-6"><div><label><input icheck="" type="radio" value="image" name="radioTest" ng-model="vm.selectedItem.coverType"> Imagem</label></div></div><div class="col-md-6"><div><label><input icheck="" type="radio" value="video" name="radioTest" ng-model="vm.selectedItem.coverType"> Vídeo</label></div></div></div></div><hr><button type="button" ng-click="vm.openImagesModal();">Selecione as imagens</button> <img ng-repeat="img in vm.selectedItem.images" ngf-src="img.src" style="width: 34px; height: 34px; float: none; position: relative; top: 7px;"></div></div></div><div class="modal-footer"><button type="button" class="btn btn-white" ng-click="vm.closeNewItemModal()">Fechar</button> <button type="submit" class="btn btn-primary">Salvar</button></div></form></div>'),e.put("app/login/forgot_password.html",'<div class="passwordBox animated fadeInDown" ng-controller="ForgotPasswordController as vm"><div class="row"><div class="col-md-12"><div class="ibox-content"><h2 class="font-bold">Esqueci minha senha</h2><p>Informe o seu e-mail para você receber uma nova Senha de Acesso.</p><div class="row"><div class="col-lg-12"><form class="m-t" role="form" ng-submit="vm.forgotPassword();"><div class="form-group"><input type="email" ng-model="vm.email" class="form-control" placeholder="Email de cadastro" required=""></div><button type="submit" class="btn btn-primary block full-width m-b">Recuperar senha</button></form></div></div></div></div></div><hr></div>'),e.put("app/login/login.html",'<div class="middle-box text-center loginscreen animated fadeInDown"><div style="margin-top:200px"><form class="m-t" ng-submit="vm.login();" role="form"><div class="form-group"><input type="email" ng-model="vm.email" class="form-control" placeholder="Usuário" required=""></div><div class="form-group"><input type="password" ng-model="vm.password" class="form-control" placeholder="Senha" required=""></div><button type="submit" class="btn btn-primary block full-width m-b">Entrar</button> <a ui-sref="forgot_password"><small>Esqueceu a senha?</small></a></form></div></div>'),e.put("app/main/main.html",'<div class="wrapper wrapper-content animated fadeInRight"><h2>Painel Administrativo</h2><hr><div class="row"><div class="col-md-12"><button ng-if="!main.emptyList" ng-click="main.openNewClinicModal()" class="btn btn btn-primary">Nova Clínica</button></div></div><div ng-if="main.emptyList" class="row text-center" style="margin-top:100px"><div class="col-lg-12"><i style="font-size:172px; color:#e2e3e3" class="fa fa-medkit modal-icon"></i><h4 style="font-size: 26px; font-weight: 600; padding:20px 0px 0px 0px" class="modal-title">Nenhuma clínica criada</h4></div><div class="col-lg-12" style="padding-top:20px"><button ng-click="main.openNewClinicModal()" class="btn btn-md btn-primary">Nova Clínica</button></div></div><div class="row"><div class="col-lg-12"><div class="m-t-lg"><div class="row"><div ng-repeat="clinic in main.clinics" class="col-lg-3"><div class="ibox float-e-margins"><div class="ibox-content" style="min-height:100px" ng-style="{\'background-color\': clinic.bgcolor}"><div style="float:right"><img alt="image" class="img-circle" ng-if="clinic.logo" width="70px" height="70px" src="{{clinic.logo.src}}"></div><h1 ng-style="{\'color\': clinic.fontcolor}" class="no-margins ellipsis">{{clinic.name}}</h1><small ng-style="{\'color\': clinic.fontcolor}">CRM: {{clinic.crm}}</small></div><div class="ibox-title"><button type="button" ng-click="main.removeClinic(clinic.$id)" style="margin-left:5px" class="btn btn-danger btn-xs pull-right">Excluir</button> <button type="button" ng-click="main.openNewClinicModal(clinic);" class="btn btn-primary btn-xs pull-right">Editar</button> <button ui-sref="index.categories({ id: clinic.$id })" type="button" style="text-align: left; padding-left: 0px; padding-top:0px" class="btn btn-w-m btn-link"><i class="fa fa-list"></i> Categorias</button></div></div></div></div></div></div></div></div>'),
e.put("app/main/new-clinic.html",'<div class="inmodal" id="new-clinic-form"><form role="form" name="newClinicForm" ng-submit="main.insertOrUpdate(newClinicForm);" ng-validate="main.newClinicValidationOptions"><div class="modal-header"><h4 class="modal-title">Nova Clínica</h4></div><div class="modal-body"><div class="row"><div class="col-sm-6 b-r"><br><div class="form-group"><label>Nome:</label> <input type="text" name="name" ng-model="main.selectedClinic.name" class="form-control"></div><div class="form-group"><label>Frase Inicial:</label> <input type="text" name="slogan" ng-model="main.selectedClinic.slogan" class="form-control"></div><div class="form-group"><label>CRM:</label> <input type="text" name="crm" ng-model="main.selectedClinic.crm" class="form-control"></div><div class="form-group"><label>Descrição:</label> <input name="desc" ng-model="main.selectedClinic.description" class="form-control"></div><div class="form-group"><label>Login:</label> <input type="email" ng-disabled="main.selectedClinic.$id" name="login" ng-model="main.selectedClinic.login" class="form-control"></div><div class="form-group"><label>Senha:</label><div class="input-group"><input ng-init="inputType = \'password\'" ng-disabled="main.selectedClinic.$id" type="{{inputType}}" name="password" ng-model="main.selectedClinic.password" class="form-control"> <span class="input-group-btn"><button type="button" ng-class="{\'active\' : inputType == \'text\'}" ng-click="inputType == \'password\' ? inputType = \'text\' : inputType = \'password\'" class="btn btn-white"><i class="fa fa-eye"></i></button></span></div></div></div><div class="col-sm-6"><h4>Configurações de layout</h4><p ng-if="!main.selectedClinic.logo">Selecione a logo:</p><p class="text-center"><div class="dropzon" ng-click="main.openSelectLogoModal()" ng-if="!main.selectedClinic.logo"><a href=""><i class="fa fa-cloud-upload big-icon"></i></a></div><div style="padding:20px 0px" ng-if="main.selectedClinic.logo" class="m-b-sm"><img alt="image" class="img-circle" width="90px" height="90px" src="{{main.selectedClinic.logo.src}}"></div></p><button ng-if="main.selectedClinic.logo" type="button" style="margin-bottom:20px" class="btn btn-white btn-sm" ng-click="main.openSelectLogoModal()">Alterar imagem</button> <button ng-if="main.selectedClinic.logo" type="button" style="margin-bottom:20px" class="btn btn-white btn-sm" ng-click="main.selectedClinic.logo = null">Excluir imagem</button><div class="form-group"><label>Cor de Fundo: <input colorpicker="" type="text" name="bgcolor" ng-model="main.selectedClinic.bgcolor" class="form-control"></label></div><div class="form-group"><label>Cor da Fonte: <input colorpicker="" type="text" name="fontcolor" ng-model="main.selectedClinic.fontcolor" class="form-control"></label></div></div></div></div><div class="modal-footer"><button type="button" class="btn btn-white" ng-click="main.closeNewClinicModal()">Fechar</button> <button type="submit" class="btn btn-primary">Salvar</button></div></form></div><script type="text/ng-template" id="select-logo-modal.html"><div class="inmodal"> <div class="modal-header"> </div> <div class="modal-body"> <file-select selection="main.selectedClinic.logo" multi="false" type="\'image\'"></file-select> </div> <div class="modal-footer"> <button type="button" class="btn btn-white" ng-click="main.imagesModal.dismiss();">Fechar</button> </div> </div></script>'),e.put("app/minor/minor.html",'<div class="wrapper wrapper-content animated fadeInRight"><div class="row"><div class="col-lg-12"><div class="text-center m-t-lg"><h1>Simple example of second view</h1><small>Configure in app.js as index.minor state.</small></div></div></div></div>'),e.put("app/components/common/content.html",'<div id="wrapper"><div ng-include="\'app/components/common/navigation.html\'"></div><div id="page-wrapper" class="gray-bg {{$state.current.name}}"><div ng-include="\'app/components/common/topnavbar.html\'"></div><div ui-view=""></div><div ng-include="\'app/components/common/footer.html\'"></div></div></div>'),e.put("app/components/common/footer.html",'<div class="footer"><div class="pull-right"><strong>Copyright</strong> TTM Clinic &copy; 2017</div></div>'),e.put("app/components/common/ibox_tools.html",'<div class="ibox-tools" uib-dropdown=""><a ng-click="showhide()"><i class="fa fa-chevron-up"></i></a> <a uib-dropdown-toggle="" href=""><i class="fa fa-wrench"></i></a><ul uib-dropdown-menu=""><li><a href="">Config option 1</a></li><li><a href="">Config option 2</a></li></ul><a ng-click="closebox()"><i class="fa fa-times"></i></a></div>'),e.put("app/components/common/navigation.html",'<nav class="navbar-default navbar-static-side" role="navigation"><div class="sidebar-collapse"><ul side-navigation="" class="nav metismenu" id="side-menu"><li class="nav-header"><div class="profile-element" uib-dropdown=""><img alt="image" class="img-circle" style="width:60px; height:60px" src="https://ionicframework.com/dist/preview-app/www/assets/img/ian-avatar.png"> <a uib-dropdown-toggle="" href=""><span class="clear"><span class="block m-t-xs"><strong class="font-bold">Vinicius Lott</strong></span></span></a></div><div class="logo-element">TTM</div></li><li ui-sref-active="active"><a ui-sref="index.main"><i class="fa fa-home"></i> <span class="nav-label">Home</span></a></li><li ng-class="{active: $state.includes(\'index.clinic\')}"><a ui-sref="index.clinic"><i class="fa fa-list"></i> <span class="nav-label">Clínicas</span> <span class="fa arrow"></span></a><ul class="nav nav-second-level collapse" ng-class="{in: $state.includes(\'index.categories\')}"><li ng-repeat="clinic in main.clinics" ui-sref-active="active"><a ui-sref="index.categories({ id: clinic.$id })">{{clinic.name}}</a></li></ul></li></ul></div></nav>'),e.put("app/components/common/topnavbar.html",'<div class="row border-bottom"><nav class="navbar navbar-static-top white-bg" role="navigation" style="margin-bottom: 0"><div class="navbar-header"></div><ul class="nav navbar-top-links navbar-right"><li><a ng-click="main.logOut();" href=""><i class="fa fa-sign-out"></i> Log out</a></li></ul></nav></div>'),e.put("app/components/common/directives/file-crop/file-crop.html",'<ui-cropper image="image" result-image="croppedImage"></ui-cropper>'),e.put("app/components/common/directives/file-select/file-select.html",'<div class="tabs-container"><uib-tabset ng-if="!selectedImage"><uib-tab heading="Galeria"><div class="panel-body" style="height:50vh; overflow: scroll"><div id="row"><div ng-repeat="img in images" class="col-sm-4" style="padding:5px"><a ng-click="img.checked = !img.checked; addFile(img);" class="thumbnail" style="overflow:hidden; padding:0px; height:150px; margin-bottom:0px" ng-class="{active: img.checked}"><div class="image"><img src="{{img.$value}}" class="img img-responsive full-width"></div></a><div class="row"><div class="col-md-6"><button type="button" ng-click="deleteImage(img);" style="width:100%" class="btn btn-xs btn-outline btn-link">Excluir <i class="fa fa-times"></i></button></div><div class="col-md-6"><button type="button" ng-click="selectImageToCrop(img);" style="width:100%" class="btn btn-xs btn-outline btn-link">Cortar <i class="fa fa-crop"></i></button></div></div></div></div><div id="row"><div ng-repeat="video in videos" class="col-sm-6" style="padding:5px"><a ng-click="video.checked = !video.checked; addFile(video);" class="thumbnail" style="overflow:hidden; padding:0px; height:150px" ng-class="{active: video.checked}"><div class="image"><video controls=""><source src="{{video.$value}}" type="video/mp4">Seu dispositivo não suporta a reprodução deste tipo de arquivo.</video></div></a></div></div></div></uib-tab><uib-tab heading="Upload de arquivos"><div class="panel-body" style="height:300px; padding:25px"><div ngf-select="uploadFiles($files);" ngf-drop="uploadFiles($files);" ng-model="files" ngf-keep="true" ngf-multiple="true" style="cursor:pointer; font-weight:bold; color:#ccc; font-size: 1.2em; background: #F8F8F8; border: 5px dashed #DDD;width: 100%; text-align: center; padding: 30px 10px;"><a href=""><i class="fa fa-cloud-upload big-icon"></i></a><br>Arraste e solte ou clique para adicionar arquivos</div><div style="margin-top:20px" ng-show="progress >= 0" class="progress progress-small"><div style="width: {{progress}}%;" class="progress-bar"></div></div></div></uib-tab></uib-tabset><div ng-if="selectedImage" style="background: white; width:100%; height:50vh; text-align:center; padding-top: 20px"><div style="overflow: hidden; width:600px; height:350px; margin:0 auto;"><ui-cropper image="selectedImage" area-type="rectangle" result-image="myCroppedImage" result-blob="myCroppedImageblob" result-image-size="\'max\'"></ui-cropper></div><button type="button" style="margin-top:20px" ng-click="uploadImageAsPromise(myCroppedImageblob);" class="btn btn-primary">Cortar Imagem</button> <button type="button" style="margin-top:20px" ng-click="cancelCrop();" class="btn btn-w-m btn-link">Cancelar</button></div></div>')}]);
//# sourceMappingURL=../maps/scripts/app-3e300fecf6.js.map
